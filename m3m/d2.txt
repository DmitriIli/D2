python manage.py shell
form Portal.models import *

# Пользователи/авторы
user = User.objects.create_user(username='User1')
Auther.objects.create(authoe=user)
user = User.objects.create_user(username='User2')
Auther.objects.create(author=user)

#Категории
Cathegory.objects.create(name='sport')
Cathegory.objects.create(name='culture')
Cathegory.objects.create(name='politic')
Cathegory.objects.create(name='local news')

#Статьи
Post.objects.create(author_id=Author.objects.get(id=1),types_of_topic='NW',title='some title',text='some text')
Post.objects.create(author_id=Author.objects.get(id=2),types_of_topic='AT',title='some title',text='some text')
Post.objects.create(author_id=Author.objects.get(id=3),types_of_topic='AT',title='some title',text='some text')

#Категории для статей
Post.objects.get(id=1).post_category.add(Category.objects.get(id=1))
Post.objects.get(id=2).post_category.add(Category.objects.get(id=2))
Post.objects.get(id=3).post_category.add(Category.objects.get(id=3))
Post.objects.get(id=1).post_category.add(Category.objects.get(id=4))

#Комментарии
Comment.object.create(post_comment=Post.object.get(id=1),user_comment=Author.object.get(id=1).author,text='test some comment')
Comment.object.create(post_comment=Post.object.get(id=2),user_comment=Author.object.get(id=2).author,text='test some comment')
Comment.object.create(post_comment=Post.object.get(id=3),user_comment=Author.object.get(id=2).author,text='test some comment')
Comment.object.create(post_comment=Post.object.get(id=1),user_comment=Author.object.get(id=2).author,text='test some comment')

#like/dislike
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=2).dislike()

#Рэйтинг пользователей
Author.objects.get(id=1).update_rating()
Author.objects.get(id=2).update_rating()

#username и рейтинг лучшего пользователя
a_st=Author.objects.order_by('-rating')[:1]
a_st.author.user.name
a_st.rating

#Вывести дату добавления, username автора, рейтинг, заголовок и превью лучшей статьи, основываясь на лайках/дислайках
к этой статье.
p_st=Post.objects.order_by('-rating')[:1]
p_id = Post.objects.order_by('-rating')[:1].id
p_st.datetime_of_topic
p_st.author_id.username
p_st.rating
p_st_title
p_st.preview()

#Вывести все комментарии (дата, пользователь, рейтинг, текст) к этой статье.
comments = Comment.objects.filter(post_comment = p_id)
for i in comments:
    i.datetime_comment
    i.user_comment.username
    i.rating
    i.text